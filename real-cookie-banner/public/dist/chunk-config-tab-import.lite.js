"use strict";(self.webpackChunkrealCookieBanner_=self.webpackChunkrealCookieBanner_||[]).push([[655],{1811:(e,t,r)=>{r.d(t,{U:()=>u});var s=r(3713),n=r(38123),a=r.n(n),l=r(72091),o=r(36601);const i=l.A.generatePicker(o.A);var c=r(84973);const{RangePicker:d}=i,u=e=>{const t=a().localeData();return(0,s.jsx)(d,{locale:{lang:{locale:a().locale(),placeholder:(0,c.__)("Select date"),rangePlaceholder:[(0,c.__)("Start date"),(0,c.__)("End date")],today:(0,c.__)("Today"),now:(0,c.__)("Now"),backToToday:(0,c.__)("Back to today"),ok:(0,c.__)("OK"),clear:(0,c.__)("Clear"),month:(0,c.__)("Month"),year:(0,c.__)("Year"),timeSelect:(0,c.__)("Select time"),dateSelect:(0,c.__)("Select date"),monthSelect:(0,c.__)("Choose a month"),yearSelect:(0,c.__)("Choose a year"),decadeSelect:(0,c.__)("Choose a decade"),yearFormat:"YYYY",dateFormat:t.longDateFormat("LL"),dayFormat:"D",dateTimeFormat:t.longDateFormat("LLL"),monthFormat:"MMMM",monthBeforeYear:!0,previousMonth:(0,c.__)("Previous month (PageUp)"),nextMonth:(0,c.__)("Next month (PageDown)"),previousYear:(0,c.__)("Last year (Control + left)"),nextYear:(0,c.__)("Next year (Control + right)"),previousDecade:(0,c.__)("Last decade"),nextDecade:(0,c.__)("Next decade"),previousCentury:(0,c.__)("Last century"),nextCentury:(0,c.__)("Next century")},timePickerLocale:{placeholder:(0,c.__)("Select time")},dateFormat:t.longDateFormat("LL"),dateTimeFormat:t.longDateFormat("LLL"),weekFormat:"YYYY-wo",monthFormat:"YYYY-MM"},...e})}},65116:(e,t,r)=>{r.d(t,{ImportExportCards:()=>q});var s=r(3713),n=r(6099),a=r(92453),l=r(43799),o=r(57922),i=r(19117),c=r(91386),d=r(18197),u=r(45854),h=r(19991),p=r(26190),_=r(41594),m=r(76109),x=r(93304),j=r(53203),g=r(84973),y=r(77710),k=r(29446);const A={labelCol:{span:24},wrapperCol:{span:24}},b=(0,o.PA)(()=>{const{message:e}=i.A.useApp(),{optionStore:{isTcf:t,others:{hints:{export:r}}}}=(0,j.g)(),[n]=c.A.useForm(),[a,l]=(0,_.useState)(!1),[o,b]=(0,_.useState)(""),f=(0,_.useCallback)(async e=>{l(!0);try{b(JSON.stringify(await(0,y.E)({location:k.A,params:e})))}finally{l(!1)}},[]),S=(0,_.useCallback)(()=>{(0,m.l)(o),e.success((0,g.__)("Export successfully copied to the clipboard."))},[o]),v=(0,_.useCallback)(e=>((async()=>{l(!0),window.location.href=(0,y.T)({location:k.A,params:{...n.getFieldsValue(),download:!0}}),l(!1)})(),e.preventDefault(),!1),[l,n]);return(0,s.jsx)(d.A,{spinning:a,children:(0,s.jsxs)(c.A,{name:"export",form:n,...A,initialValues:{settings:!0,cookieGroups:!0,cookies:!0,blocker:!0,tcfVendorConfigurations:!0,customizeBanner:!0},onFinish:f,labelWrap:!0,children:[(0,s.jsxs)(c.A.Item,{label:(0,g.__)("Content to export"),children:[(0,s.jsx)("div",{children:(0,s.jsx)(c.A.Item,{name:"settings",noStyle:!0,valuePropName:"checked",children:(0,s.jsx)(u.A,{children:(0,g.__)("Settings")})})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.A.Item,{name:"cookieGroups",noStyle:!0,valuePropName:"checked",children:(0,s.jsx)(u.A,{children:(0,g.__)("Service groups")})})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.A.Item,{name:"cookies",noStyle:!0,valuePropName:"checked",children:(0,s.jsx)(u.A,{children:(0,g.__)("Services")})})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.A.Item,{name:"blocker",noStyle:!0,valuePropName:"checked",children:(0,s.jsx)(u.A,{children:(0,g.__)("Content Blocker")})})}),t&&(0,s.jsx)("div",{children:(0,s.jsx)(c.A.Item,{name:"tcfVendorConfigurations",noStyle:!0,valuePropName:"checked",children:(0,s.jsx)(u.A,{children:(0,g.__)("TCF Vendor configurations")})})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.A.Item,{name:"customizeBanner",noStyle:!0,valuePropName:"checked",children:(0,s.jsx)(u.A,{children:(0,g.__)("Cookie banner customization")})})})]}),(0,s.jsxs)(c.A.Item,{children:[(0,s.jsx)("input",{type:"submit",className:"button button-primary",style:{marginTop:10},value:(0,g.__)("Export")}),(0,s.jsx)("input",{onClick:v,type:"submit",className:"button",style:{margin:"10px 0 0 10px"},value:(0,g.__)("Download JSON")}),r.length>0&&(0,s.jsx)("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:"10px 0 0 0"},children:(0,s.jsx)("p",{children:(0,x.g)(r.join("\n\n"))})})]}),(0,s.jsxs)(c.A.Item,{style:{display:o?"block":"none"},children:[(0,s.jsxs)(c.A.Item,{noStyle:!0,children:[(0,s.jsx)(h.A,{style:{marginTop:0},children:(0,g.__)("Result")}),(0,s.jsx)(p.A.TextArea,{onClick:S,value:o,readOnly:!0,rows:5})]}),(0,s.jsx)("p",{className:"description",children:(0,g.__)('Copy the exported content and paste it into the "Import" text area of your target WordPress installation.')})]})]})})});var f=r(81533),S=r(38123),v=r.n(S),C=r(78851),I=r(1811);const F={labelCol:{span:24},wrapperCol:{span:24}},w=(0,o.PA)(()=>{const[e]=c.A.useForm(),[t,r]=(0,_.useState)(!1),[n,a]=(0,_.useState)(!1),l=(0,_.useCallback)(()=>{(async()=>{r(!0),a(!0);const{uuid:t,date:s}=e.getFieldsValue(),n=(0,y.T)({location:C.R,params:{uuid:t||"",from:s?.[0].format("YYYY-MM-DD")||"",to:s?.[1].format("YYYY-MM-DD")||""}});window.open(n,"_blank"),r(!1)})()},[r,a,e]);return(0,s.jsx)(d.A,{spinning:t,children:(0,s.jsxs)(c.A,{name:"export",form:e,...F,initialValues:{by:"",date:[],uuid:""},onFinish:l,labelWrap:!0,children:[(0,s.jsx)(c.A.Item,{label:(0,g.__)("Export by"),required:!0,children:(0,s.jsx)(c.A.Item,{name:"by",noStyle:!0,rules:[{required:!0,message:(0,g.__)("Please select an option!")}],children:(0,s.jsxs)(f.Ay.Group,{children:[(0,s.jsx)(f.Ay.Button,{value:"date",children:(0,g.__)("Date range")}),(0,s.jsx)(f.Ay.Button,{value:"uuid",children:(0,g.__)("UUID")})]})})}),(0,s.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.by!==t.by,children:({getFieldValue:e})=>"date"===e("by")&&(0,s.jsx)(c.A.Item,{name:"date",label:(0,g.__)("Date range"),required:!0,rules:[{type:"array",required:!0,message:(0,g.__)("Please provide a valid date range!")}],children:(0,s.jsx)(I.U,{disabledDate:e=>!e||e.isAfter(v()())})})}),(0,s.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.by!==t.by,children:({getFieldValue:e})=>"uuid"===e("by")&&(0,s.jsx)(c.A.Item,{name:"uuid",label:(0,g.__)("UUID"),required:!0,rules:[{required:!0,pattern:/^\w{8}-\w{4}-\w{4}-\w{4}-\w{12}$/,message:(0,g.__)("Please provide a valid UUID!")}],children:(0,s.jsx)(p.A,{})})}),(0,s.jsx)(c.A.Item,{children:(0,s.jsx)("input",{type:"submit",className:"button button-primary",style:{marginTop:10},value:(0,g.__)("Download CSV")})}),n&&(0,s.jsx)("div",{className:"notice notice-info inline below-h2 notice-alt",style:{margin:"10px 0 0 0"},children:(0,s.jsx)("p",{children:(0,g.__)("The CSV file can be very large because data in this format is redundant per line. In your WordPress database the consents are much smaller.")})})]})})});var D=r(43477),P=r(32132),N=r(6196),Y=r(19393);const T=(0,o.PA)(({result:e})=>{const t=(0,_.useCallback)(({fix:e,settingsTab:t,cookieDuplicate:r,cookie:n,blockerDuplicate:a,blocker:l,href:o,linkText:i})=>{switch(e){case"settings":return(0,s.jsx)("a",{href:`#/settings/${t}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Set manually")});case"cookieDuplicate":{const{original:[e,t],duplicate:[n,a]}=r;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{href:`#/cookies/${e}/edit/${t}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Open original")})," ","•"," ",(0,s.jsx)("a",{href:`#/cookies/${n}/edit/${a}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Open newly created")})]})}case"cookie":{const[e,t]=n;return(0,s.jsx)("a",{href:`#/cookies/${e}/edit/${t}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Check manually")})}case"blockerDuplicate":{const{original:e,duplicate:t}=a;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("a",{href:`#/blocker/edit/${e}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Open original")})," ","•"," ",(0,s.jsx)("a",{href:`#/blocker/edit/${t}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Open newly created")})]})}case"blocker":return(0,s.jsx)("a",{href:`#/blocker/edit/${l}`,target:"_blank",rel:"noreferrer",children:(0,g.__)("Check manually")});case"link":return(0,s.jsx)("a",{href:o,rel:"noreferrer",children:i||(0,g.__)("Set manually")});default:return null}},[]);return e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{style:{marginTop:0},children:(0,g.__)("Result")}),e.messages.map(({message:e,severity:r,...n},a)=>(0,s.jsx)("div",{className:`notice notice-${r} inline below-h2 notice-alt`,style:{margin:"10px 0 0 0"},children:(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{dangerouslySetInnerHTML:{__html:e}}),!!n.fix&&(0,s.jsxs)(s.Fragment,{children:[" • ",t(n)]})]})},a))]}):null});var V=r(45113);const B={labelCol:{span:24},wrapperCol:{span:24}},E=(0,o.PA)(()=>{const{message:e}=i.A.useApp(),{cookieStore:t,optionStore:r}=(0,j.g)(),{groups:n,busy:a}=t,[l]=c.A.useForm(),[o,u]=(0,_.useState)(!1),[h,m]=(0,_.useState)(void 0);(0,_.useEffect)(()=>{t.fetchGroups()},[]);const x=(0,_.useCallback)(async t=>{u(!0);try{m(await(0,y.E)({location:V.h,request:{cookieGroup:0,cookieStatus:"keep",cookieSkipExisting:!0,blockerStatus:"keep",blockerSkipExisting:!0,tcfVendorConfigurationStatus:"keep",...t}})),r.fetchCurrentRevision(),r.fetchSettings(),r.fetchBannerLinks(),e.success((0,g.__)("Successfully imported!"))}catch(t){e.error(t.responseJSON.message)}finally{u(!1)}},[]),k=(0,_.useCallback)(e=>{const t=new FileReader;return t.readAsText(e,"UTF-8"),t.onload=e=>l.setFieldsValue({json:e.target.result}),t.onerror=()=>l.setFieldsValue({json:(0,g.__)("File could not be read.")}),!1},[l]),A=(0,_.useCallback)((e,t)=>{try{const r=JSON.parse(e);return!t||!!r[t]}catch(e){return!1}},[]);return(0,s.jsx)(d.A,{spinning:o||a,children:(0,s.jsxs)(c.A,{name:"import",form:l,...B,initialValues:{json:"",cookieStatus:"keep",cookieSkipExisting:!0,blockerStatus:"keep",blockerSkipExisting:!0,tcfVendorConfigurationStatus:"keep"},onFinish:x,labelWrap:!0,children:[(0,s.jsxs)(c.A.Item,{label:(0,g.__)("Content to import"),required:!0,children:[(0,s.jsx)(c.A.Item,{name:"json",rules:[{required:!0,message:(0,g.__)("Please provide a value!")}],extra:(0,g.__)("You can get the settings as JSON file or text if you export the settings in this or another WordPress installation."),children:(0,s.jsx)(p.A.TextArea,{rows:5})}),(0,s.jsx)("p",{className:"description",children:(0,g.__)("or select a file to upload:")}),(0,s.jsx)(P.A,{accept:"application/json",showUploadList:!1,beforeUpload:k,children:(0,s.jsxs)("a",{className:"button",children:[(0,s.jsx)(D.A,{})," ",(0,g.__)("Select File")]})})]}),(0,s.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.json!==t.json,children:({getFieldValue:e})=>A(e("json"),"cookies")&&(0,s.jsxs)(c.A.Item,{label:(0,g.__)("Fallback service group"),required:!0,children:[(0,s.jsx)(c.A.Item,{name:"cookieGroup",noStyle:!0,rules:[{required:!0,message:(0,g.__)("Please provide a group!")}],children:(0,s.jsx)(N.A,{style:{width:"70%"},children:n.sortedGroups.map(({data:{id:e,name:t}})=>(0,s.jsx)(N.A.Option,{value:e,children:t},e))})}),(0,s.jsx)("p",{className:"description",children:(0,g.__)("Select an alternative group to assign the service to if an imported service cannot be assigned to its original group.")})]})}),(0,s.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.json!==t.json,children:({getFieldValue:e})=>A(e("json"),"cookies")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A.Item,{children:(0,s.jsxs)("span",{children:[(0,s.jsx)(c.A.Item,{name:"cookieSkipExisting",valuePropName:"checked",noStyle:!0,children:(0,s.jsx)(Y.A,{})}),(0,s.jsxs)("span",{children:["  ",(0,g.__)("Skip already existing services")]})]})}),(0,s.jsx)(c.A.Item,{label:(0,g.__)("Set service status"),name:"cookieStatus",rules:[{required:!0,message:(0,g.__)("Please choose a status!")}],children:(0,s.jsxs)(f.Ay.Group,{children:[(0,s.jsx)(f.Ay.Button,{value:"keep",children:(0,g.__)("Keep")}),(0,s.jsx)(f.Ay.Button,{value:"publish",children:(0,g.__)("Enabled")}),(0,s.jsx)(f.Ay.Button,{value:"private",children:(0,g.__)("Disabled")}),(0,s.jsx)(f.Ay.Button,{value:"draft",children:(0,g.__)("Draft")})]})})]})}),(0,s.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.json!==t.json,children:({getFieldValue:e})=>A(e("json"),"blocker")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A.Item,{children:(0,s.jsxs)("span",{children:[(0,s.jsx)(c.A.Item,{name:"blockerSkipExisting",valuePropName:"checked",noStyle:!0,children:(0,s.jsx)(Y.A,{})}),(0,s.jsxs)("span",{children:["  ",(0,g.__)("Skip already existing content blocker")]})]})}),(0,s.jsx)(c.A.Item,{label:(0,g.__)("Set content blocker status"),name:"blockerStatus",rules:[{required:!0,message:(0,g.__)("Please choose a status!")}],children:(0,s.jsxs)(f.Ay.Group,{children:[(0,s.jsx)(f.Ay.Button,{value:"keep",children:(0,g.__)("Keep")}),(0,s.jsx)(f.Ay.Button,{value:"publish",children:(0,g.__)("Enabled")}),(0,s.jsx)(f.Ay.Button,{value:"private",children:(0,g.__)("Disabled")}),(0,s.jsx)(f.Ay.Button,{value:"draft",children:(0,g.__)("Draft")})]})})]})}),(0,s.jsx)(c.A.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.json!==t.json,children:({getFieldValue:e})=>A(e("json"),"tcfVendorConfigurations")&&(0,s.jsx)(c.A.Item,{label:(0,g.__)("Set TCF Vendor configuration status"),name:"tcfVendorConfigurationStatus",rules:[{required:!0,message:(0,g.__)("Please choose a status!")}],children:(0,s.jsxs)(f.Ay.Group,{children:[(0,s.jsx)(f.Ay.Button,{value:"keep",children:(0,g.__)("Keep")}),(0,s.jsx)(f.Ay.Button,{value:"publish",children:(0,g.__)("Enabled")}),(0,s.jsx)(f.Ay.Button,{value:"private",children:(0,g.__)("Disabled")}),(0,s.jsx)(f.Ay.Button,{value:"draft",children:(0,g.__)("Draft")})]})})}),(0,s.jsx)(c.A.Item,{children:(0,s.jsx)("input",{type:"submit",className:"button button-primary",style:{marginTop:10},value:(0,g.__)("Import")})}),(0,s.jsx)(c.A.Item,{style:{display:h?.messages?.length?"block":"none"},children:(0,s.jsx)(T,{result:h})})]})})});var U=r(86551),L=r(6997);const q=(0,o.PA)(()=>{const e=(0,U.m)("import");return(0,s.jsxs)(n.A,{children:[(0,s.jsx)(a.A,{xl:16,sm:16,xs:24,children:(0,s.jsx)(l.A,{style:{margin:10},title:(0,g.__)("Import"),children:(0,s.jsx)(E,{})})}),(0,s.jsxs)(a.A,{xl:8,sm:8,xs:24,children:[(0,s.jsx)(l.A,{style:{margin:10},title:(0,g.__)("Export"),children:(0,s.jsx)(b,{})}),(0,s.jsx)(l.A,{style:{margin:10},title:(0,g.__)("Export consents"),children:(0,s.jsx)(w,{})})]}),(0,s.jsx)("p",{className:"description",style:{maxWidth:800,margin:"30px auto 0",textAlign:"center"},children:e}),(0,s.jsx)(L.b,{identifier:"import"})]})})}}]);
//# sourceMappingURL=https://sourcemap.devowl.io/real-cookie-banner/5.2.12/b72bb8332ff6cdb9a9beff52dcaa3615/chunk-config-tab-import.lite.js.map
